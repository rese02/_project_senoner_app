{
  "entities": {
    "User": {
      "title": "User",
      "type": "object",
      "description": "Represents a user of the Senoner Sarteur Digital app.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the user (Firebase UID)."
        },
        "firstName": {
          "type": "string",
          "description": "The first name of the user."
        },
        "lastName": {
          "type": "string",
          "description": "The last name of the user."
        },
        "email": {
          "type": "string",
          "description": "The email address of the user.",
          "format": "email"
        },
        "role": {
          "type": "string",
          "description": "The role of the user (customer, employee, or admin).",
          "enum": ["customer", "employee", "admin"]
        },
        "points": {
          "type": "number",
          "description": "Loyalty points accumulated by the user."
        },
        "rewards": {
          "type": "array",
          "description": "An array of reward objects associated with the user.",
          "items": {
            "$ref": "#/entities/Reward"
          }
        },
        "coupons": {
          "type": "array",
          "description": "An array of coupon objects associated with the user.",
          "items": {
            "$ref": "#/entities/Coupon"
          }
        },
        "lastWheelSpin": {
          "type": "string",
          "description": "Timestamp of the user's last spin of the Wheel of Fortune.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "firstName",
        "lastName",
        "email",
        "role"
      ]
    },
    "Category": {
      "title": "Category",
      "type": "object",
      "description": "Represents a category of products available for pre-order.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the category."
        },
        "name": {
          "type": "string",
          "description": "The name of the category (e.g., 'Sushi-Donnerstag')."
        },
        "image": {
          "type": "string",
          "description": "URL to the image representing the category."
        },
        "pickupDays": {
          "type": "array",
          "description": "Array of days when products in this category can be picked up.",
          "items": {
            "type": "string"
          }
        },
        "products": {
          "type": "array",
          "description": "Array of products included in this category.",
          "items": {
            "$ref": "#/entities/Product"
          }
        }
      },
      "required": [
        "id",
        "name",
        "image",
        "pickupDays"
      ]
    },
    "Preorder": {
      "title": "Preorder",
      "type": "object",
      "description": "Represents a customer's pre-order.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the pre-order."
        },
        "customerId": {
          "type": "string",
          "description": "Reference to User. ID of the user who placed the order. (Relationship: User 1:N Preorder)"
        },
        "customerName": {
          "type": "string",
          "description": "The name of the customer who placed the order."
        },
        "details": {
          "type": "string",
          "description": "Details of the ordered items (e.g., 'Sushi-Box Groß, 2 Stück')."
        },
        "date": {
          "type": "string",
          "description": "The date for which the pre-order is scheduled (e.g., '2025-10-30').",
          "format": "date-time"
        },
        "status": {
          "type": "string",
          "description": "The status of the pre-order (pending, ready, collected).",
          "enum": ["pending", "ready", "collected"]
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp indicating when the pre-order was created.",
          "format": "date-time"
        },
        "totalPrice": {
          "type": "number",
          "description": "The total price of the pre-order."
        }
      },
      "required": [
        "id",
        "customerId",
        "customerName",
        "details",
        "date",
        "status",
        "createdAt",
        "totalPrice"
      ]
    },
    "AppConfig": {
      "title": "AppConfig",
      "type": "object",
      "description": "Configuration settings for the Senoner Sarteur Digital app.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the app configuration (fixed to 'main')."
        },
        "seasonalHighlightText": {
          "type": "string",
          "description": "Text for the seasonal highlight in the app."
        },
        "isWheelOfFortuneActive": {
          "type": "boolean",
          "description": "Indicates whether the Wheel of Fortune feature is currently active."
        },
        "wheelConfig": {
          "type": "array",
          "description": "Configuration for the Wheel of Fortune prizes.",
          "items": {
            "$ref": "#/entities/WheelConfig"
          }
        }
      },
      "required": [
        "id",
        "seasonalHighlightText",
        "isWheelOfFortuneActive"
      ]
    },
    "Notification": {
      "title": "Notification",
      "type": "object",
      "description": "Represents a push notification sent to a user.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the notification."
        },
        "userId": {
          "type": "string",
          "description": "Reference to User. ID of the user to whom the notification is addressed. (Relationship: User 1:N Notification)"
        },
        "message": {
          "type": "string",
          "description": "The content of the notification message."
        },
        "type": {
          "type": "string",
          "description": "The type of notification (order, reward, general)."
        },
        "read": {
          "type": "boolean",
          "description": "Indicates whether the notification has been read by the user."
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp indicating when the notification was created.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "userId",
        "message",
        "type",
        "read",
        "createdAt"
      ]
    },
    "Product": {
      "title": "Product",
      "type": "object",
      "description": "Represents a product in a category that is available for ordering.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the product."
        },
        "name": {
          "type": "string",
          "description": "The name of the product (e.g., 'Sushi-Box Groß')."
        },
        "image": {
          "type": "string",
          "description": "URL to the image representing the product."
        },
        "orderOptions": {
          "type": "array",
          "description": "Array of order options available for the product (e.g., size, quantity).",
          "items": {
            "type": "object",
            "properties": {
              "type": {"type": "string"},
              "value": {"type": "number"}
            }
          }
        },
        "categoryId": {
          "type": "string",
          "description": "Reference to Category. ID of the category this product belongs to. (Relationship: Category 1:N Product)"
        }
      },
      "required": [
        "id",
        "name",
        "image"
      ]
    },
    "WheelConfig": {
      "title": "WheelConfig",
      "type": "object",
      "description": "Represents the wheel config, this manages the prizes on the wheel and is assigned to the app config.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the prize on the wheel."
        },
        "name": {
          "type": "string",
          "description": "The name of the prize on the wheel."
        },
        "value": {
          "type": "number",
          "description": "The value of the prize on the wheel."
        },
        "probability": {
          "type": "number",
          "description": "The probability of landing on this prize."
        }
      },
      "required": [
        "id",
        "name",
        "value",
        "probability"
      ]
    },
    "Reward": {
      "title": "Reward",
      "type": "object",
      "description": "Represents the reward for accumulated points, and assigned to the user.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the reward."
        },
        "name": {
          "type": "string",
          "description": "The name of the reward."
        },
        "date": {
          "type": "string",
          "description": "The date when the reward was issued.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "name",
        "date"
      ]
    },
    "Coupon": {
      "title": "Coupon",
      "type": "object",
      "description": "Represents the coupon assigned to users and used for rewards.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the coupon."
        },
        "type": {
          "type": "string",
          "description": "The type of the coupon."
        },
        "value": {
          "type": "number",
          "description": "The value of the coupon."
        },
        "description": {
          "type": "string",
          "description": "The description of the coupon."
        }
      },
      "required": [
        "id",
        "type",
        "value",
        "description"
      ]
    }
  },
  "auth": {
    "providers": [
      "password"
    ]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": {
        "$ref": "#/entities/User"
      },
      "description": "Stores user data, including profile information, roles, loyalty points, rewards, and coupons."
    },
    "/users/{userId}/preorders/{orderId}": {
      "schema": {
        "$ref": "#/entities/Preorder"
      },
      "description": "Stores pre-orders associated with a specific user. Includes denormalized 'customerName' and 'customerId' for authorization independence."
    },
    "/categories/{categoryId}": {
      "schema": {
        "$ref": "#/entities/Category"
      },
      "description": "Stores categories of products available for pre-order."
    },
    "/appConfig/main": {
      "schema": {
        "$ref": "#/entities/AppConfig"
      },
      "description": "Stores application-wide configuration settings. The document ID is fixed to 'main'."
    },
    "/notifications/{notificationId}": {
      "schema": {
        "$ref": "#/entities/Notification"
      },
      "description": "Stores notifications for all users."
    }
  }
}